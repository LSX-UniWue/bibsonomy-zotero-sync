<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<html:style>
  #zotero-prefpane-__addonRef__-__addonRef__-pref-auth-warning,
  #zotero-prefpane-__addonRef__-auth-check-info{
  font-weight: bold;
  padding: 5px 10px;
  border-radius: 3px;
  }
  #zotero-prefpane-__addonRef__-auth-check-info{
  margin-top: 5px;
  margin-left: 10px;
  display: block;
  }
  #zotero-prefpane-__addonRef__-auth-check-info.success {
  background-color: #dff0d8;
  color: #3c763d;
  }
  #zotero-prefpane-__addonRef__-auth-check-info.failure,
  #zotero-prefpane-__addonRef__-pref-auth-warning {
  background-color: #f2dede;
  color: #a94442;
  }
  #zotero-prefpane-__addonRef__-container {
  display: flex;
  flex-direction: column;
  min-height: 82vh;
  }

  #zotero-prefpane-__addonRef__-content {
  flex: 1;
  }

  #zotero-prefpane-__addonRef__-debug-group {
  margin-bottom: 10px;
  }

  #zotero-prefpane-__addonRef__-footer {
  margin-top: auto;
  padding: 10px;
  text-align: center;
  font-size: 0.9em;
  color: #666;
  border-top: 1px solid #ccc;
  }
</html:style>
<vbox id="zotero-prefpane-__addonRef__-container"
  onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', {window})">
  <vbox id="zotero-prefpane-__addonRef__-content">
    <groupbox>
      <!-- Mandatory Auth Information -->
      <label>
        <html:h3 data-l10n-id="pref-auth-title"></html:h3>
      </label>

      <!-- Warning message if the user is not authenticated -->
      <description id="zotero-prefpane-__addonRef__-pref-auth-warning" hidden="true" data-l10n-id="pref-auth-warning">
      </description>

      <vbox>
        <hbox>
          <html:label for="zotero-prefpane-__addonRef__-username" data-l10n-id="pref-username-input"></html:label>
          <html:input type="text" id="zotero-prefpane-__addonRef__-username"
            preference="extensions.zotero.__addonRef__.username">
          </html:input>
        </hbox>
        <hbox>
          <html:label for="zotero-prefpane-__addonRef__-apikey" data-l10n-id="pref-apikey-input"></html:label>
          <html:input type="password" id="zotero-prefpane-__addonRef__-apikey"
            preference="extensions.zotero.__addonRef__.apiToken">
          </html:input>
        </hbox>
        <description data-l10n-id="pref-apikey-description"></description>
      </vbox>

      <!-- Button to check the auth data -->
      <hbox align="center">
        <button id="zotero-prefpane-__addonRef__-auth-check" data-l10n-id="pref-auth-check"></button>
        <description id="zotero-prefpane-__addonRef__-auth-check-info"></description>
      </hbox>

      <!-- Sync Preferences -->
      <label>
        <html:h3 data-l10n-id="pref-sync-title"></html:h3>
      </label>
      <radiogroup id="zotero-prefpane-__addonRef__-sync-preference">
        <hbox>
          <radio id="zotero-prefpane-__addonRef__-sync-preference-auto" value="auto" />
          <label for="zotero-prefpane-__addonRef__-sync-preference-auto" data-l10n-id="pref-sync-auto"></label>
        </hbox>
        <hbox>
          <radio id="zotero-prefpane-__addonRef__-sync-preference-semi-auto" value="semi-auto" />
          <label for="zotero-prefpane-__addonRef__-sync-preference-semi-auto"
            data-l10n-id="pref-sync-semi-auto"></label>
        </hbox>
        <hbox>
          <radio id="zotero-prefpane-__addonRef__-sync-preference-manual" value="manual" />
          <label for="zotero-prefpane-__addonRef__-sync-preference-manual" data-l10n-id="pref-sync-manual"></label>
        </hbox>
      </radiogroup>

      <!-- Default Post Privacy Preference -->
      <label>
        <html:h3 data-l10n-id="pref-default-group-title"></html:h3>
      </label>
      <description data-l10n-id="pref-default-group-description"></description>
      <menulist id="zotero-prefpane-__addonRef__-default-group"
        preference="extensions.zotero.__addonRef__.defaultGroup">
        <menupopup id="zotero-prefpane-__addonRef__-default-group-popup">
          <menuitem value="private" label="Private">
          </menuitem>
          <menuitem value="public" label="Public">
          </menuitem>
          <menuitem id="zotero-prefpane-__addonRef__-default-group-waiting" value="waiting"
            label="Loading other groups ...">
          </menuitem>
          <!-- Additional entries populated dynamically -->
        </menupopup>
      </menulist>
    </groupbox>
    <!-- Debug Section (Only visible in development mode)-->
    <groupbox id="zotero-prefpane-__addonRef__-debug-group" hidden="true">
      <label>
        <html:h3 data-l10n-id="pref-debug-title"></html:h3>
      </label>
      <hbox align="center">
        <button id="zotero-prefpane-__addonRef__-clean-library" data-l10n-id="pref-clean-library"></button>
      </hbox>
    </groupbox>
  </vbox>
  <vbox id="zotero-prefpane-__addonRef__-footer">
    <html:label data-l10n-id="pref-help"
      data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'></html:label>
  </vbox>
</vbox>